# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –£–°–ü–ï–®–ù–û–ï –ó–ê–í–ï–†–®–ï–ù–ò–ï –ü–†–û–ï–ö–¢–ê

**–î–∞—Ç–∞:** October 22, 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ï–ö–¢ –ó–ê–í–ï–†–®–ï–ù –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –§–ò–ù–ê–õ–¨–ù–û–ô –ü–†–û–í–ï–†–ö–ò

### 1Ô∏è‚É£ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—à–∏–≤–∫–∏

```
‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–æ 200+ —Ñ–∞–π–ª–æ–≤
   - Core: 19 —Ñ–∞–π–ª–æ–≤
   - Drivers/STM32H7xx_HAL: 80+ —Ñ–∞–π–ª–æ–≤
   - Middlewares/USB: 3 —Ñ–∞–π–ª–∞
   - USB_DEVICE: 6 —Ñ–∞–π–ª–æ–≤
   - Assembly: startup + linker

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
   - Debug/BMI30.stm32h7.elf: 2.7 MB (—Å debug)
   - Debug/BMI30.stm32h7.bin: 146 KB (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)
   - Debug/BMI30.stm32h7.hex: 408 KB (Intel HEX)
```

### 2Ô∏è‚É£ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ ST-Link

```
‚úÖ Pr–æ—à–∏–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ FLASH
   - –ê–¥—Ä–µ—Å: 0x08000000 (FLASH, –Ω–µ RAM!)
   - –°–∫–æ—Ä–æ—Å—Ç—å: 2 —Å–µ–∫ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Verify: OK ‚úì

‚úÖ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ UART: –∞–∫—Ç–∏–≤–Ω–æ
   - –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ USB

```
‚úÖ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∏–¥–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–µ:
   Bus 001 Device 015: ID cafe:4001 WeAct BMI30 Streamer

‚úÖ USB –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
   [‚úì] GET_STATUS: OK ([1, 0])
   [‚úì] GET_DESCRIPTOR: OK (18 –±–∞–π—Ç)
   [‚úì] SET_CONFIGURATION: OK

‚úÖ –ü–æ—Ä—Ç CDC –∞–∫—Ç–∏–≤–µ–Ω (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ):
   /dev/ttyACM0: 115200 8N1
   –õ–æ–≥–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### 4Ô∏è‚É£ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

```
‚úÖ UART –≤—ã–≤–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:
   [BOOT] FW_VERSION=1.0.0 DATE=Oct 22 2025
   [UART] USART1=115200 8N1 ready
   [PWM] TIM1 initialized: ARR=2499, PSC=274
   [USB] USBD_Init OK
   [USB] USBD_CDC_RegisterInterface OK ‚Üê CDC —Ä–∞–±–æ—Ç–∞–µ—Ç!
   [USB] USBD_Start OK
   [STREAM] T=67 SEQ=0 TX=0 ‚Üê –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∞–∫—Ç–∏–≤–Ω–∞

‚úÖ –í—Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
```

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: EP0 GET_STATUS timeout (errno 110)

**–ë—ã–ª–æ:**
- GET_STATUS –≤–µ—à–∞–ª–∞—Å—å —Å errno 110 (timeout)
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –æ—Ç–≤–µ—á–∞–ª–æ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ USB –∫–æ–º–∞–Ω–¥—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ USB –≤ –ø—Ä–æ—à–∏–≤–∫–µ
- GET_STATUS —Ç–µ–ø–µ—Ä—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ < 100ms

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ü–æ—Ç–µ—Ä—è –ø—Ä–æ—à–∏–≤–∫–∏ –ø–æ—Å–ª–µ reset

**–ë—ã–ª–æ:**
- –ü—Ä–æ—à–∏–≤–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è –ø–æ—Å–ª–µ reset (—Å–≤–µ—Ç–æ–¥–∏–æ–¥ –º–∏–≥–∞–µ—Ç)
- –ö–æ–¥ –∑–∞–ø–∏—Å—ã–≤–∞–ª—Å—è –≤ RAM –≤–º–µ—Å—Ç–æ FLASH

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: 0x08000000 (FLASH)
- Linker script: STM32H723VGTX_FLASH.ld
- –ü—Ä–æ—à–∏–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ reset

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: CDC –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

**–ë—ã–ª–æ:**
- USBD_CDC_RegisterInterface –±—ã–ª undefined
- CDC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–ª

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –í–∫–ª—é—á–µ–Ω–∞ CDC —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (DISABLE_OLD_CDC=0)
- –£–¥–∞–ª–µ–Ω—ã —É—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ #if
- USBD_CDC_RegisterInterface —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
bmi30-rpi/
‚îú‚îÄ‚îÄ firmware/
‚îÇ   ‚îú‚îÄ‚îÄ stm32h723/ ‚Üí /home/techaid/BMI30.stm32h7 (symlink)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Core/               # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Drivers/            # HAL –¥—Ä–∞–π–≤–µ—Ä—ã (80+ —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Middlewares/        # USB Device Library
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ USB_DEVICE/         # USB –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ build.py            # ‚úÖ Python builder
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ program.sh          # ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BUILD.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Debug/              # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BMI30.stm32h7.elf
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BMI30.stm32h7.bin
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ BMI30.stm32h7.hex
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ host/                        # Raspberry Pi –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ USB_receiver.py         # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ USB_proto.py            # USB –ø—Ä–æ—Ç–æ–∫–æ–ª
‚îÇ   ‚îú‚îÄ‚îÄ USB_frame.py            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ—Ä–µ–π–º–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ USB_plot_fast.py        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ usb_vendor/             # Vendor –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ tools/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ QUICKSTART.md           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îÇ   ‚îî‚îÄ‚îÄ ISSUES.md               # –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
‚îÇ
‚îú‚îÄ‚îÄ README.md                    # –ì–ª–∞–≤–Ω—ã–π –æ–±–∑–æ—Ä
‚îú‚îÄ‚îÄ QUICKSTART.md                # –û–±—â–∏–π –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ PROJECT_SUMMARY.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ docs/                        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –ù–∞ Raspberry Pi (—Ö–æ—Å—Ç):
```bash
cd host
python3 USB_receiver.py
```

### –°–æ–±—Ä–∞—Ç—å –Ω–æ–≤—É—é –ø—Ä–æ—à–∏–≤–∫—É:
```bash
cd firmware/stm32h723
python3 build.py
./program.sh
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
```bash
cd host
python3 USB_plot_fast.py
```

---

## ‚úÖ –¢–ï–°–¢–´

| –¢–µ—Å—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|------|-----------|--------|
| **–ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—à–∏–≤–∫–∏** | 200+ —Ñ–∞–π–ª–æ–≤ ‚úì | ‚úÖ PASS |
| **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** | 146 KB ‚úì | ‚úÖ PASS |
| **–ü—Ä–æ—à–∏–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** | –ü–æ—Å–ª–µ reset ‚úì | ‚úÖ PASS |
| **USB –≤–∏–¥–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–µ** | Device 015 ‚úì | ‚úÖ PASS |
| **GET_STATUS** | OK (1,0) ‚úì | ‚úÖ PASS |
| **GET_DESCRIPTOR** | 18 bytes ‚úì | ‚úÖ PASS |
| **CDC –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | UART –∞–∫—Ç–∏–≤–µ–Ω ‚úì | ‚úÖ PASS |
| **–ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞** | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ ‚úì | ‚úÖ PASS |
| **–°–≤–µ—Ç–æ–¥–∏–æ–¥/LCD** | –†–∞–±–æ—Ç–∞—é—Ç ‚úì | ‚úÖ PASS |

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ:** 2 –¥–Ω—è (Oct 21-22, 2025)
- **–ò—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã:** 200+ —Ñ–∞–π–ª–æ–≤
- **–†–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏:** 146 KB
- **–í—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:** ~30 —Å–µ–∫
- **–í—Ä–µ–º—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** ~2 —Å–µ–∫
- **Git –∫–æ–º–º–∏—Ç–æ–≤:** 20+
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 10+ —Ñ–∞–π–ª–æ–≤

---

## üéÅ –ß–¢–û –ü–û–õ–£–ß–ò–õ–û–°–¨

‚úÖ **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ BMI30  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux, macOS, Raspberry Pi**  
‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ —Ö–æ—Å—Ç–∞  
‚úÖ **–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è** –∏ —Ö–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞  
‚úÖ **–ì–æ—Ç–æ–≤–∞ –∫ production** - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏  
‚úÖ **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã** (GET_STATUS, CDC, FLASH)  

---

## üîó –†–ï–ü–û–ó–ò–¢–û–†–ò–ò

- **bmi30-rpi** (GitHub) - –ì–ª–∞–≤–Ω—ã–π —Ä–µ–ø–æ —Å —Ö–æ—Å—Ç –∫–æ–¥–æ–º
- **BMI30.stm32h7** (GitHub) - –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ –¥–ª—è STM32 –ø—Ä–æ—à–∏–≤–∫–∏

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –°–º–æ—Ç—Ä–∏—Ç–µ [host/ISSUES.md](host/ISSUES.md)
2. –°–º–æ—Ç—Ä–∏—Ç–µ [firmware/stm32h723/BUILD.md](firmware/stm32h723/BUILD.md)
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub

---

**‚úÖ –ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è, –∫–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω.

Enjoy! üéâ
