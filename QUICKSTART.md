# โก ะัััััะน ะกัะฐัั BMI30 Oscilloscope

## ๐ฏ ะกััั ะัะพะตะบัะฐ ะฒ ะะดะฝะพะน ะคัะฐะทะต
ะะธะฒะฐั ะพััะธะปะปะพะณัะฐะผะผะฐ ััะตัะตะพ ADC ะฟะพัะพะบะฐ ะพั BMI30 ัะตัะตะท USB Vendor Bulk ั ~200 FPS.

---

## โ๏ธ ะะะะขะะงะะะฏ ะะะะะะะะ

**ะะฐ ััััะพะนััะฒะต ัััะฐะฝะพะฒะปะตะฝะฐ CDC ะบะพะฝัะธะณััะฐัะธั, ะฐ ััะตะฑัะตััั Vendor Bulk!**

### ะขะตะบััะตะต ัะพััะพัะฝะธะต:
```
lsusb -d cafe:4001 -v
โ Interface 0 (CDC Control), Interface 1 (CDC Data)
โ ะะตั Interface 2 ั EP 0x03/0x83
```

### ะขัะตะฑัะตะผะพะต ัะพััะพัะฝะธะต:
```
Interface 2 (Vendor Bulk Stereo)
โโ EP 0x03 (Bulk OUT)
โโ EP 0x83 (Bulk IN)
```

---

## ๐๏ธ ะะตัะตะฝะธะต: ะะตัะตะฟัะพัะธัั ะฃัััะพะนััะฒะพ

### ะขัะตะฑัะตััั:
- โ ST-Link v2 ะฟัะพะณัะฐะผะผะฐัะพั
- โ ะะพะดะบะปััะธัั ST-Link ะบ RPi GPIO (3 ะฟัะพะฒะพะดะฐ)
- โ ะัะพัะธะฒะบะฐ ัะถะต ะณะพัะพะฒะฐ: `firmware/BMI30.stm32h7.elf`

### ะกัะตะผะฐ ะฟะพะดะบะปััะตะฝะธั:
```
RPi GPIO         โ  ST-Link
Pin 11 (GPIO17)  โ  Pin 4 (SWDIO)
Pin 13 (GPIO27)  โ  Pin 9 (SWDCLK)
Pin 9/25 (GND)   โ  Pin 3 (GND)
```

### ะะพะผะฐะฝะดะฐ:
```bash
cd /home/techaid/Documents

# ะะฒัะพะผะฐัะธัะตัะบะธะน ัะบัะธะฟั
./flash_firmware.sh

# ะะปะธ ะฒัััะฝัั
openocd -f /usr/share/openocd/scripts/interface/stlink.cfg \
        -f /usr/share/openocd/scripts/target/stm32h7x.cfg \
        -c "init" -c "halt" \
        -c "stm32h7x mass_erase 0" \
        -c "program firmware/BMI30.stm32h7.elf 0x08000000 verify" \
        -c "reset run" -c "exit"
```

### ะะพัะปะต ะฟัะพัะธะฒะฐะฝะธั:
```bash
# ะัะพะฒะตัะธัั (ะดะพะปะถะฝั ะฑััั ะฝะพะฒัะต endpoints)
lsusb -d cafe:4001 -v | grep -A 10 "Interface 2"

# ะะฐะฟัััะธัั GUI
python3 BMI30.200.py
```

---

## ๐ ะะพัะปะต ะฃัะฟะตัะฝะพะณะพ ะัะพัะธะฒะฐะฝะธั

GUI ะฟะพะบะฐะถะตั:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ BUF=1360 FREQ=200Hz  โป  โก  ๐ฉบ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ         ADC0 (ะทะตะปัะฝัะน)              โ โ 200 FPS
โ         ADC1 (ัะธะฝะธะน)                โ ะกะธะฝััะพะฝะฝะพ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ X: ะะฝะดะตะบัั ัะตะผะฟะปะพะฒ (0, 1, 2, ...)  โ
โ Y: ะะผะฟะปะธััะดะฐ (-32768..32767)        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะะพะปะฝะฐั ะะพะบัะผะตะฝัะฐัะธั

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| `DEVICE_STATUS.md` | ะะตัะฐะปัะฝัะน ะฐะฝะฐะปะธะท ัะตะบััะตะณะพ ัะพััะพัะฝะธั |
| `LAUNCH.md` | ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ ะฟะพ ะทะฐะฟััะบั |
| `README.md` | ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ |
| `BMI30.200.py` | ะัะฝะพะฒะฝะพะน GUI (1113 ัััะพะบ) |
| `usb_vendor/usb_stream.py` | USB ััะฐะฝัะฟะพัั (~850 ัััะพะบ) |

---

## โ ะะพะฝััะพะปัะฝัะน ะกะฟะธัะพะบ

- [ ] ST-Link ะฟัะธะพะฑัะตััะฝ ะธ ะฟะพะดะบะปััะตะฝ ะบ RPi GPIO
- [ ] ะัะพัะธะฒะบะฐ ะทะฐะณััะถะตะฝะฐ ะฝะฐ ััััะพะนััะฒะพ
- [ ] ะัะพะฒะตัะตะฝะพ: `lsusb` ะฟะพะบะฐะทัะฒะฐะตั IF#2 ั EP 0x03/0x83
- [ ] GUI ะทะฐะฟััะตะฝ: `python3 BMI30.200.py`
- [ ] ะะฐ ัะบัะฐะฝะต ะดะฒะต ะพััะธะปะปะพะณัะฐะผะผั ั ะดะฐะฝะฝัะผะธ
- [ ] FPS โฅ 200

---

## ๐ ะะพะผะพัั

```bash
# ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะบ, ะทะฐะฟัััะธัั ะดะธะฐะณะฝะพััะธะบั
cd /home/techaid/Documents

# ะัะพะฒะตัะธัั ัะตะบััะตะต ัะพััะพัะฝะธะต ััััะพะนััะฒะฐ
lsusb -d cafe:4001 -v

# ะัะพะฒะตัะธัั ะปะพะณะธ
dmesg | tail -20

# GitHub ัะตะฟะพะทะธัะพัะธะน
git log --oneline | head -10
```

---

**ะะปะฐะฒะฝัะน ะะฝัะตัะฝะตั ะะดัะตั**: https://github.com/kslabs/bmi30-rpi  
**ะะตััะธั**: 200 (STAT v1 compliance)  
**ะะฐัะฐ**: 21 ะพะบััะฑัั 2025
